---
description: The batch import endpoint enables efficient indexing of multiple objects
  into Tallyfy Answers collections through a single API call that processes JSON arrays
  and provides comprehensive error handling for large-scale data operations.
id: 78baee7130f6cd6815484eaa83f080c3
lastUpdated: '2025-08-15'
sidebar:
  order: 2
title: Index multiple objects
---

## Batch importing multiple objects

This endpoint allows you to efficiently index multiple objects into Tallyfy Answers in a single API call. It significantly outperforms making multiple individual object creation requests, especially for large datasets or initial data loading.

Large batch imports are processed in the background, allowing you to monitor progress and cancel operations if needed using the [Tasks](/products/answers/tasks/) endpoints.

### API endpoint

```
POST /collections/{collection_name}/batch
```

### Request parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `collection_name` | path | Yes | Name of the collection to import objects into |

### Request body format: JSON Array

The request body must be a JSON array containing multiple document objects. Each object should include the required fields for your collection schema.

Example JSON array format for three objects:

```json
[
  {
    "uid": "article-123",
    "title": "Getting Started Guide",
    "content": "Complete guide to getting started...",
    "url": "https://example.com/guide",
    "source": "Documentation",
    "snippet": "Quick start guide for new users"
  },
  {
    "uid": "article-456", 
    "title": "Advanced Features",
    "content": "Advanced functionality overview...",
    "url": "https://example.com/advanced",
    "source": "Documentation",
    "snippet": "Deep dive into advanced capabilities"
  }
]
```

### Content-Type header

Set the `Content-Type` header to:
- `application/json`

### Response

A successful request returns a `200 OK` status code and a summary of the import operation:

```json
{
  "success": true,
  "count": 3,
  "errors": []
}
```

If some objects fail to import while others succeed, you'll receive a `207 Multi-Status[^1]` response:

```json
{
  "success": true,
  "count": 2,
  "errors": [
    {
      "line": 2,
      "error": "Invalid object format at line 2",
      "object": "{malformed json}"
    }
  ]
}
```

### Error scenarios

| Status | Description |
|--------|-------------|
| 400 | Invalid JSONLines format or request body |
| 404 | Collection not found |
| 413 | Request body too large |

### Example request using curl

```bash
curl -X POST "https://answers.tallyfy.com/collections/docs/batch" \
  -H "Authorization: Bearer your_api_key" \
  -H "Content-Type: application/json" \
  -d '[
    {
      "uid": "guide-123",
      "title": "Getting Started",
      "content": "Complete guide to getting started with our platform...",
      "url": "https://example.com/guide",
      "source": "Documentation",
      "snippet": "Quick start guide for new users"
    }
  ]'
```

### Best practices for batch imports

- **Size limitations**: Keep individual requests under 5MB
- **Chunking**: For large datasets, break imports into smaller batches of 100-1000 objects[^2]
- **ID handling**: You can mix objects with and without custom IDs in the same import
- **Error handling**: Process the errors array in the response to identify and fix failed objects
- **Parallel imports**: For very large datasets, you can make multiple parallel import requests to different collections

### When to use batch import

- Initial data population
- Regular data synchronization from external systems
- Bulk updates to multiple objects
- Periodic content refreshes

import { CardGrid, LinkTitleCard } from "~/components";

[^1]: HTTP status code indicating partial success - some operations succeeded while others failed
[^2]: Optimal range balances memory usage, network timeout risk, and API processing efficiency

## Related articles
<CardGrid>
<LinkTitleCard header="<b>Objects > Index a single object</b>" href="/products/answers/objects/index-single-object/" > The Tallyfy Answers API endpoint enables adding single objects to collections in real-time through POST requests with JSON data ideal for individual record creation and testing while bulk operations should use the import endpoint for better performance. </LinkTitleCard>
<LinkTitleCard header="<b>Collections > Create a collection</b>" href="/products/answers/collections/create-collection/" > To create collections in Tallyfy Answers you must first make a POST request to the /v1/collections endpoint with a unique collection name and optional description before adding any objects to the collection. </LinkTitleCard>
<LinkTitleCard header="<b>Objects > Delete an object</b>" href="/products/answers/objects/delete-object/" > The DELETE endpoint permanently removes specific objects from Tallyfy Answers collections using unique identifiers and returns confirmation upon successful deletion with no recovery option available. </LinkTitleCard>
<LinkTitleCard header="<b>Answers > Objects</b>" href="/products/answers/objects/" > Objects in Tallyfy Answers are fundamental JSON-formatted data records that belong to collections and can be indexed retrieved and searched using either custom or auto-generated unique identifiers while supporting flexible schema-less structure and various management operations. </LinkTitleCard>
</CardGrid>