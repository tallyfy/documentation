---
about_tallyfy: true
description: Power Automate's data operations and variables let you store, loop through,
  parse, and transform Tallyfy workflow data inside automated flows.
id: 017bc0b84d8ffb39fd69fa8a0a907b59
lastUpdated: 2026-03-01
sidebar:
  order: 10
title: Working with data operations and variables in Power Automate
---

import { Steps } from '@astrojs/starlight/components';

When you pull information from Tallyfy into Power Automate, you'll deal with collections of [tasks](/products/pro/tracking-and-tasks/tasks/), [form field](/products/pro/tracking-and-tasks/tasks/what-are-form-fields-in-tallyfy/) data, and JSON payloads. Variables, loops, and data operations are the tools that let you store values, transform data, and process multiple items at once.

## How variables work with Tallyfy integrations

Variables are temporary storage that persists while your flow runs. Here's why they matter for Tallyfy work:

*   Store intermediate results from Tallyfy data lookups
*   Count [tasks](/products/pro/tracking-and-tasks/tasks/) that match specific criteria
*   Build up a list of task names before sending it somewhere else
*   Control loop behavior based on changing Tallyfy values

**Variable types** in Power Automate: Boolean, Integer, Float, String, Array, and Object.

**Common variable actions:**
*   **Initialize variable** - declares the variable with a name, type, and starting value (always goes first)
*   **Set variable** - overwrites the current value
*   **Increment / Decrement variable** - adds or subtracts 1, great for counters
*   **Append to string variable** - tacks text onto the end
*   **Append to array variable** - pushes a new item into the list

## Looping through Tallyfy data with Apply to each

The **Apply to each** control runs your actions once per item in an array.

*   Power Automate adds it automatically when you pick dynamic content that's a list (like rows from a Tallyfy table [form field](/products/pro/tracking-and-tasks/tasks/what-are-form-fields-in-tallyfy/))
*   You can also add one manually and point it at array data from an earlier step

**Tallyfy example:** Say a [task](/products/pro/tracking-and-tasks/tasks/) has a table-type [form field](/products/pro/tracking-and-tasks/tasks/what-are-form-fields-in-tallyfy/) listing equipment for a project. When you fetch that task through the Tallyfy [connector](/products/pro/integrations/middleware/power-automate/how-can-i-integrate-tallyfy-with-microsoft-power-automate/) or [API](/products/pro/integrations/open-api/), the table comes back as an array. Use "Apply to each" to loop through every row - maybe creating purchase orders in your ERP or adding items as tasks in another Tallyfy process.

## Parsing JSON from Tallyfy

Tallyfy [webhooks](/products/pro/integrations/webhooks/) and [API](/products/pro/integrations/open-api/) responses return JSON. The **Parse JSON** data operation turns that raw text into structured objects you can reference as dynamic content.

**How to set it up:**
1.  Add **Parse JSON** from Data Operations
2.  **Content** - point it at your JSON string from Tallyfy
3.  **Schema** - click **Generate from sample** and paste real JSON from a Tallyfy webhook or API call

:::caution[Field mapping limitations]
When working with Tallyfy form field data in Power Automate:
- Complex field types (dropdowns, checkboxes) return structured JSON objects, not simple values
- Dropdown fields return objects with properties like `id`, `text`, and `value`
- To access the display text of a dropdown, use expressions like `body('Parse_JSON')?['fieldName']?['text']`
- Table fields return arrays that require loops or indexing to access individual rows
- Always use Parse JSON action first to properly structure Tallyfy data before mapping
:::

**Tallyfy example:** Someone launches a [process](/products/pro/tracking-and-tasks/processes/) and your [webhook](/products/pro/integrations/webhooks/) fires a JSON payload to Power Automate. That payload contains the process name, who started it, and all kick-off form data - but it's just a text blob until you parse it. After parsing, you can grab the initiator's email, route form data to other systems, or trigger follow-up actions.

**Handling Tallyfy field types after parsing:**
- **Text fields** - map directly as strings
- **Dropdown fields** - use `item()?['fieldName']?['text']` for the display label
- **Checkbox fields** - returns an array of selected values; loop or index into it
- **Table fields** - each row is an object in an array, so you'll need a loop
- **Date fields** - arrives in ISO format; format with `formatDateTime()`

## Transforming Tallyfy data into CSV or HTML tables

Two data operations turn arrays into formatted output:

*   **Create CSV Table** - feed it an array of Tallyfy task details, get back a CSV string for Excel
*   **Create HTML Table** - same input, outputs an HTML table you can paste into an email

**Tallyfy use case:** Pull overdue [tasks](/products/pro/tracking-and-tasks/tasks/) using the Tallyfy [connector](/products/pro/integrations/middleware/power-automate/how-can-i-integrate-tallyfy-with-microsoft-power-automate/) or [API](/products/pro/integrations/open-api/), then run them through **Create HTML Table** to email a formatted summary to stakeholders.

## Putting it together - a daily task report

**Scenario:** Your team lead wants a daily email at 8 AM showing all their Tallyfy [tasks](/products/pro/tracking-and-tasks/tasks/) due that day, formatted as an HTML table.

<Steps>

1.  **Trigger: Recurrence.**
    Set to run daily. (See [understanding Power Automate basics](/products/pro/integrations/middleware/power-automate/understanding-power-automate-basics/) for trigger setup.)

2.  **Action: Get user profile (V2) (Office 365 Users).**
    Optional - only needed if you want assignee details beyond email.

3.  **Action: Tallyfy - "Get a member's tasks" (`Get_User_Tasks`).**
    *   Set up your Tallyfy [connection](/products/pro/integrations/middleware/power-automate/how-can-i-integrate-tallyfy-with-microsoft-power-automate/)
    *   **user_id** - the team lead's Tallyfy user ID
    *   **q** - optional search query to narrow results
    *   This action doesn't filter by date, so you'll filter in the next step

4.  **Control: "Filter array" (Data Operation).**
    *   **From:** the task list output from the previous step
    *   **Condition:** use an [expression](/products/pro/integrations/middleware/power-automate/advanced-conditions-and-expressions/) to keep only tasks due today:
        `@equals(formatDateTime(item()?['deadline'], 'yyyy-MM-dd'), formatDateTime(utcNow(), 'yyyy-MM-dd'))`

5.  **Action: Initialize variable.**
    *   **Name:** `DailyTaskReportHTML`
    *   **Type:** `String`
    *   **Value:** `<table><tr><th>Task Name</th><th>Deadline</th></tr>`

6.  **Control: "Apply to each".**
    *   **Input:** output from the "Filter array" step

7.  **Inside "Apply to each": Action - "Append to string variable".**
    *   **Name:** `DailyTaskReportHTML`
    *   **Value:** `<tr><td>[Task Name]</td><td>[Deadline formatted with formatDateTime()]</td></tr>`

8.  **(Outside loop) Action: Append to string variable.**
    *   Add `</table>` to close the HTML table

9.  **Action: Send an email (V2).**
    *   **To:** team lead's email
    *   **Subject:** `Your Tallyfy Tasks Due Today`
    *   **Body:** switch to code view (`</>`) and insert `DailyTaskReportHTML`. Enable HTML rendering.

</Steps>

## Tips for working with Tallyfy data

*   **Initialize early.** Put all variable initializations at the top of your flow. It's easier to maintain.
*   **Expect arrays everywhere.** Table [form fields](/products/pro/tracking-and-tasks/tasks/what-are-form-fields-in-tallyfy/)? Arrays. Multiple tasks from the [API](/products/pro/integrations/open-api/)? Arrays. You'll reach for "Apply to each" often.
*   **Debug with Compose.** Can't tell what your data looks like? Drop a "Compose" action and output your variable or Tallyfy data. It's console.log for Power Automate.

import { CardGrid, LinkTitleCard } from "~/components";

## Related articles
<CardGrid>
<LinkTitleCard header="<b>Power Automate > Using conditional logic in Power Automate</b>" href="/products/pro/integrations/middleware/power-automate/using-conditional-logic-in-power-automate/" > Power Automate's conditional logic enables automated flows to make intelligent decisions based on Tallyfy data using IF-THEN structures Switch controls and nested conditions to create adaptive workflows that respond differently to various task statuses form field values and process conditions. </LinkTitleCard>
<LinkTitleCard header="<b>Power Automate > Advanced conditions and expressions in Power Automate</b>" href="/products/pro/integrations/middleware/power-automate/advanced-conditions-and-expressions/" > Power Automate's advanced conditional techniques including expressions grouped logic and Switch controls enable sophisticated decision-making in Tallyfy workflows by handling complex data scenarios multiple conditions and edge cases that basic if-then logic cannot accommodate. </LinkTitleCard>
<LinkTitleCard header="<b>Power Automate > Understanding Power Automate basics</b>" href="/products/pro/integrations/middleware/power-automate/understanding-power-automate-basics/" > Microsoft Power Automate enables workflow automation by connecting Tallyfy with various business applications through triggers and actions while Tallyfy manages human-centric processes and Power Automate handles system integrations and repetitive micro-tasks. </LinkTitleCard>
<LinkTitleCard header="<b>Power Automate > Managing and monitoring power automate flows</b>" href="/products/pro/integrations/middleware/power-automate/managing-and-monitoring-power-automate-flows/" > This guide covers managing Power Automate flows integrated with Tallyfy including sharing flows with co-owners for team collaboration and business continuity and exporting/importing flows for backups and environment migrations and monitoring run history to track automation success and troubleshooting common issues like authentication errors and API throttling while following best practices such as clear naming and regular reviews and documentation. </LinkTitleCard>
</CardGrid>