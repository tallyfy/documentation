---
description: Microsoft Copilot Studio offers enterprise-grade MCP support for organizations
  needing AI agents connected to business systems with features like Virtual Network
  integration Data Loss Prevention multiple authentication methods and multi-agent
  orchestration capabilities that enable intelligent workflow automation through Tallyfy's
  MCP server while requiring additional setup complexity compared to simpler alternatives.
id: b52cf52fa43abd282cf4a12ac69313d2
sidebar:
  order: 30
title: Using Tallyfy MCP server with Microsoft Copilot Studio
---

import { Steps, CardGrid, LinkTitleCard } from "~/components";

:::note[MCP Client Compatibility]
An MCP server can be used by any MCP client that supports it. Although you can use Tallyfy's MCP server with common AI platforms like OpenAI, Claude or Microsoft Copilot Studio - the UI and ability to do useful work in real life is limited by many factors which are highlighted in this page. Tallyfy is developing its own fully-featured chat UI which will solve all the major problems of using MCP servers with mainstream text-chat AI providers. However, to start using MCP immediately - we recommend adding it to your AI subscription so that you can get the value and benefits immediately. You can additionally use the fully featured Tallyfy-specific AI interface when we launch it.
:::

## Overview

Microsoft Copilot Studio brings enterprise-grade MCP support to organizations that need AI agents connected to their business systems. Connect Tallyfy's MCP server with Copilot Studio, and you'll build intelligent agents that automate workflows, manage processes, and interact with your Tallyfy data through natural language commands.

Want to know how it all works? This guide walks you through configuring Tallyfy's MCP server with Microsoft Copilot Studio, tapping into unique enterprise features, working around limitations, and implementing battle-tested production practices.

## Microsoft Copilot Studio MCP support status

Where does Copilot Studio stand with MCP support as of January 2025? Here's the current state:

- **General availability**: Full MCP support across all Copilot Studio plans
- **Transport methods**: Streamable HTTP (recommended) and Server-Sent Events (SSE, in preview)
- **Enterprise features**: Virtual Network integration, Data Loss Prevention (DLP), multiple authentication methods
- **Platform integration**: Native Power Platform connector infrastructure
- **Prebuilt connectors**: Dataverse, Dynamics 365 (Sales, Finance, Supply Chain, Service), Microsoft Fabric

**Note:** SSE transport support remains in preview and will be deprecated in August 2025. Stick with Streamable HTTP for new implementations.

## Prerequisites

You'll need a few things in place before diving in:

- Microsoft Copilot Studio license (trial or paid)
- Tallyfy API key (grab it from your Tallyfy organization settings)
- Power Apps or Power Automate access (for creating custom connectors)
- Generative Orchestration enabled in your Copilot Studio agent
- Environment in a supported region (check Microsoft documentation for current availability)

## Setting up Tallyfy MCP Server with Microsoft Copilot Studio

Ready to get started? Here's how to connect everything:

## Integration flow overview

This diagram shows how Tallyfy MCP Server connects with Microsoft Copilot Studio through the Power Platform infrastructure.

```d2
Dev: Developer
Azure: Azure Functions
PA: Power Apps
CS: Copilot Studio
T: Tallyfy API

# Setup Flow
Setup Flow: {near: top-center}

1: Dev -> Azure: Deploy server
2: Dev -> PA: Create connector
3: PA -> PA: Configure auth
4: Dev -> CS: Add connector
5: CS -> PA: Authorize
6: PA -> T: Test API
7: T --> PA: Verified {style.stroke-dash: 3}
8: CS -> CS: Configure DLP
9: CS -> T: Test queries
10: T --> CS: Results {style.stroke-dash: 3}

# Ready
Ready: {near: bottom-center}
```

**What to notice:**
- The setup involves multiple Microsoft services (Azure, Power Apps, Copilot Studio) that must be configured in sequence
- Authentication happens at the Power Apps connector level using your Tallyfy API key
- DLP policies provide an additional security layer for enterprise deployments

## Multi-agent orchestration pattern

See how Copilot Studio coordinates multiple specialized agents for complex workflows like employee onboarding.

```d2
Analyze: "Analyze"
End: "End"
HR: "HR"
HR1: "HR1"
IT: "IT"
IT1: "IT1"
Monitor: "Monitor"
Primary: "Primary"
Start: "Start"
Status: "Status"
T1: "T1"
Train: "Train"
Start: Onboard Request {shape: rectangle}
Primary: Primary Agent {shape: rectangle}
Analyze: Analyze {shape: diamond}
HR: HR Agent {shape: rectangle}
IT: IT Agent {shape: rectangle}
Train: Training Agent {shape: rectangle}
HR1: Create Tasks {shape: rectangle}
IT1: Setup Access {shape: rectangle}
T1: Schedule Training {shape: rectangle}
Monitor: Monitor Progress {shape: rectangle}
Status: Status Report {shape: rectangle}
End: Complete {shape: rectangle}

Start -> Primary
Primary -> Analyze

Analyze -> HR: HR
Analyze -> IT: IT
Analyze -> Train: Training

HR -> HR1
IT -> IT1
Train -> T1

HR1 -> Monitor
IT1 -> Monitor
T1 -> Monitor

Monitor -> Status
Status -> End

```

**What to notice:**
- The Primary Agent acts as an orchestrator, delegating specific tasks to specialized agents
- Each agent creates and manages its tasks through Tallyfy's API
- All progress is centrally monitored through Tallyfy's tracker view for complete visibility

## Enterprise deployment architecture

This shows the recommended architecture for large organizations requiring high availability and security.

```d2
API: "API"
Copilot: "Copilot"
Gateway: "Gateway"
LB: "LB"
MCP1: "MCP1"
MCP2: "MCP2"
Copilot: Copilot Studio {shape: rectangle}
Gateway: API Gateway {shape: rectangle}
LB: Load Balancer {shape: rectangle}
MCP1: MCP Server 1 {shape: rectangle}
MCP2: MCP Server 2 {shape: rectangle}
API: Tallyfy API {shape: rectangle}

Copilot -> Gateway
Gateway -> LB

LB -> MCP1
LB -> MCP2

MCP1 -> API
MCP2 -> API

```

**What to notice:**
- Multiple MCP server instances provide high availability behind a load balancer
- Security is layered with WAF, DLP policies, and VNet isolation
- Managed identities eliminate the need to store credentials in code

<Steps>

1. **Create an MCP server for Tallyfy**
   
   First, you'll need to develop an MCP server that exposes Tallyfy's capabilities. You can use Microsoft's SDKs or deploy to Azure:
   
   ```javascript
   // Example using Node.js on Azure Functions
   const { createMcpServer } = require('@microsoft/mcp-sdk');
   const axios = require('axios');
   
   module.exports = async function (context, req) {
     const server = createMcpServer({
       name: 'Tallyfy MCP Server',
       version: '1.0.0',
       tools: [
         {
           name: 'search_tasks',
           description: 'Search for tasks in Tallyfy',
           parameters: {
             query: { type: 'string', required: true },
             status: { type: 'string', enum: ['open', 'completed', 'overdue'] }
           },
           handler: async (params) => {
             const response = await axios.get('https://mcp.tallyfy.com/tasks', {
               headers: { 'Authorization': `Bearer ${process.env.TALLYFY_API_KEY}` },
               params: { q: params.query, status: params.status }
             });
             return response.data;
           }
         }
       ]
     });
     
     context.res = await server.handleRequest(req);
   };
   ```

2. **Create an OpenAPI specification**
   
   Next up - create a YAML file describing your MCP server for the Power Platform connector:
   
   ```yaml
   swagger: '2.0'
   info:
     title: Tallyfy MCP Server
     description: MCP server for Tallyfy workflow management
     version: 1.0.0
   host: tallyfy-mcp.azurewebsites.net
   basePath: /api
   schemes:
     - https
   paths:
     /mcp:
       post:
         summary: Tallyfy Workflow Management Server
         x-ms-agentic-protocol: mcp-streamable-1.0
         operationId: InvokeMCP
         parameters:
           - name: Authorization
             in: header
             required: true
             type: string
             description: Bearer token for authentication
         responses:
           '200':
             description: Success
   securityDefinitions:
     apiKey:
       type: apiKey
       in: header
       name: Authorization
   ```

3. **Create a custom connector in Power Apps**
   
   1. Navigate to your Copilot Studio agent
   2. Go to **Tools** → **Add a tool** → **New tool** → **Custom connector**
   3. In Power Apps, select **New custom connector** → **Import OpenAPI file**
   4. Import your YAML specification and configure authentication

4. **Configure authentication**
   
   In the connector configuration:
   - Set authentication type to **API Key**
   - Configure the header name as `Authorization`
   - Set the prefix to `Bearer `
   - Test the connection with your Tallyfy API key

5. **Add the MCP connector to your agent**
   
   Back in Copilot Studio:
   1. Select **Tools** → **Add a tool** → **Model Context Protocol**
   2. Choose your Tallyfy MCP connector from the list
   3. Authorize the connection with your credentials
   4. Select **Add to agent** or **Add and configure**

6. **Configure DLP policies (optional)**
   
   For enterprise deployments:
   1. Navigate to Power Platform Admin Center
   2. Create DLP policies to control data flow
   3. Apply policies to your Copilot Studio environment
   4. Configure connector classifications (Business/Non-Business/Blocked)

7. **Test the integration**
   
   Time to see if it works! In your Copilot Studio agent, try these queries:
   ```
   "Find all open tasks assigned to the sales team"
   "Show me overdue processes for customer onboarding"
   "Create a task for reviewing the Q4 budget"
   ```

</Steps>

## Practical demonstrations

### Example 1: Multi-agent orchestration

**Scenario**: Coordinate multiple agents for complex workflows.

**User prompt:**
```
Start the employee onboarding process for Jane Smith, assign tasks to HR and IT, and schedule training sessions.
```

**Copilot Studio with MCP will:**
1. Primary agent receives the request
2. Delegates to HR agent for documentation tasks via Tallyfy
3. Delegates to IT agent for system access setup
4. Delegates to Training agent for session scheduling
5. Monitors progress across all sub-agents
6. Reports consolidated status back to you

### Example 2: Power Platform integration

**Scenario**: Combine Tallyfy workflows with Microsoft tools.

**User prompt:**
```
When a new sales opportunity is created in Dynamics 365, start our proposal process in Tallyfy and create a Teams channel for collaboration.
```

**Implementation:**
1. Power Automate flow triggers on Dynamics 365 opportunity
2. MCP server creates Tallyfy process instance
3. Teams connector creates dedicated channel
4. Agent monitors and reports progress

### Example 3: Enterprise compliance workflow

**Scenario**: Automated compliance checking with approvals.

**User prompt:**
```
Review all completed audit processes this quarter and generate a compliance report with any violations highlighted.
```

**Copilot Studio with MCP will:**
1. Query Tallyfy for audit process data
2. Analyze completion times against SLAs
3. Check for required approvals
4. Generate formatted report in SharePoint
5. Route to compliance team if violations found

## Unique Microsoft Copilot Studio features

### 1. Enterprise security and governance

Here's where Copilot Studio really shines - it taps into Microsoft's entire enterprise infrastructure:

- **Virtual Network (VNet) integration**: Isolate MCP traffic within your network
- **Data Loss Prevention (DLP)**: Apply policies to prevent data exfiltration
- **Azure AD authentication**: Use your existing identity management
- **Compliance certifications**: Inherit Microsoft's compliance framework

### 2. Power Platform ecosystem

You get deep integration with Microsoft's low-code platform - and that's huge:

- **Power Automate flows**: Trigger complex workflows from MCP actions
- **Power Apps integration**: Build custom UIs for Tallyfy data
- **Dataverse storage**: Store workflow metadata in Microsoft's database
- **Power BI reporting**: Create dashboards from Tallyfy analytics

### 3. Multi-agent orchestration

This is where Copilot Studio really excels. It coordinates multiple agents like a pro:

- Delegate tasks between specialized agents
- Maintain context across agent handoffs
- Central monitoring of multi-agent workflows
- Built-in error handling and fallback mechanisms

### 4. Tools and prompts framework

Centralized management of reusable components:

- **Prompt library**: Create and share custom prompts across agents
- **Tool catalog**: Browse and install prebuilt MCP connectors
- **Version control**: Track changes to tools and prompts
- **Testing framework**: Validate tools before deployment

## Limitations in Microsoft Copilot Studio

Let's be honest - MCP with Copilot Studio isn't perfect. You'll hit some roadblocks:

### 1. Licensing complexity

**Challenge**: Multiple license tiers with varying capabilities.

**Limitations:**
- MCP requires Generative Orchestration (extra cost - ouch)
- Message limits vary by plan (25K to 200K messages/month)
- Some features need Power Platform licenses too
- Multi-agent orchestration still in preview for select customers

### 2. Regional availability

**Challenge**: Not all features available globally.

**Limitations:**
- MCP available in limited regions initially
- Data residency requirements may restrict usage
- Preview features often US-only at launch
- Compliance varies by geography

### 3. Connector development overhead

**Challenge**: Creating custom connectors requires additional steps.

**Limitations:**
- Must create OpenAPI specifications
- Power Apps/Automate knowledge needed
- Testing takes longer than direct MCP
- Versioning and updates require republishing

### 4. Performance considerations

**Challenge**: Enterprise features add latency.

**Limitations:**
- DLP policy evaluation adds processing time
- VNet routing increases response times (10-50ms typically)
- Large result sets require pagination
- Rate limits shared across Power Platform

## Ideal use cases for Copilot Studio + Tallyfy MCP

Where does this combo really shine? Let me show you:

### 1. Enterprise workflow automation

**Strength**: Microsoft's ecosystem handles end-to-end automation beautifully.

**Example:**
```
"When a purchase order exceeds $50,000 in Dynamics 365, initiate our approval workflow in Tallyfy, notify stakeholders in Teams, and track in Power BI."
```

### 2. Compliance and audit management

**Strength**: Built-in governance and security features.

**Example:**
```
"Monitor all SOX compliance processes, ensure proper segregation of duties, and generate audit reports with full trail documentation."
```

### 3. Cross-functional process orchestration

**Strength**: Multi-agent coordination capabilities.

**Example:**
```
"Coordinate our product launch process across marketing, sales, and operations teams, with each department's agent handling their specific tasks."
```

### 4. Intelligent process mining

**Strength**: Analytics and AI-powered insights.

**Example:**
```
"Analyze our customer service processes to identify bottlenecks, suggest optimizations, and automatically implement approved changes."
```

### 5. Regulated industry workflows

**Strength**: Enterprise compliance and security.

**Example:**
```
"Manage our FDA submission process with full audit trails, approval chains, and automatic compliance checking at each step."
```

## Security considerations

You can't skip security when deploying Tallyfy MCP in Copilot Studio. Here's what matters:

1. **Network security**
   - Deploy MCP servers within VNet for isolation
   - Use Private Endpoints for Azure services
   - Implement Web Application Firewall (WAF) rules
   - Enable DDoS protection for public endpoints

2. **Authentication and authorization**
   - Use Azure AD for user authentication
   - Implement service principal authentication for server-to-server
   - Apply conditional access policies
   - Enable multi-factor authentication

3. **Data protection**
   - Classify data sensitivity levels
   - Apply DLP policies based on classification
   - Enable encryption at rest and in transit
   - Implement data retention policies

4. **Monitoring and compliance**
   - Enable Azure Monitor for MCP servers
   - Configure alerts for anomalous behavior
   - Regular security assessments
   - Maintain audit logs for compliance

## Deployment architectures

### Basic deployment (Small organizations)

```
[Copilot Studio] → [Custom Connector] → [Azure Function MCP Server] → [Tallyfy API]
```

### Enterprise deployment (Large organizations)

```
[Copilot Studio] 
    ↓ (VNet Integration)
[API Management] 
    ↓ (Private Endpoint)
[App Service Environment]
    ├── [MCP Server Instance 1]
    ├── [MCP Server Instance 2]
    └── [Load Balancer]
         ↓ (Managed Identity)
    [Tallyfy API]
```

### Hybrid deployment (Multi-cloud)

```
[Copilot Studio] → [ExpressRoute] → [On-premises MCP Server] → [Tallyfy Private Instance]
                 ↘                                           ↗
                   [Azure MCP Server] → [Tallyfy Cloud]
```

## Best practices

Want your implementation to succeed? Follow these proven practices:

1. **Start with prebuilt connectors**: Use Microsoft's MCP connectors as templates
2. **Implement retry logic**: Handle transient failures gracefully
3. **Use managed identities**: Never store credentials in code (yes, we've all been tempted)
4. **Monitor usage**: Track message consumption against limits
5. **Plan for scale**: Design for multi-agent scenarios from day one
6. **Test extensively**: Use Copilot Studio's testing framework
7. **Document thoroughly**: Your IT teams will thank you later

## Known issues and workarounds (January 2025)

These issues pop up regularly - here's how to handle them:

1. **SSE endpoint requirements**: Must return full URI (not relative paths)
2. **Tool naming conflicts**: Prefix Tallyfy tools to avoid collisions
3. **Large payload handling**: Implement pagination for result sets over 100 items
4. **Session timeout**: Implement keep-alive mechanisms for long-running operations
5. **Regional latency**: Deploy MCP servers in same region as Copilot Studio

## Future outlook

What's coming next? Microsoft's roadmap looks promising:

- **Enhanced multi-agent capabilities**: More sophisticated orchestration patterns
- **Improved debugging tools**: Better visibility into MCP interactions
- **Expanded connector marketplace**: More prebuilt enterprise connectors
- **Advanced security features**: Zero-trust architecture support
- **Performance optimizations**: Reduced latency and higher throughput

## Conclusion

Microsoft Copilot Studio's MCP implementation brings enterprise-grade capabilities to Tallyfy workflow automation. Yes, setup takes more effort than simpler alternatives. But look at what you get:

- Rock-solid security and compliance features
- Deep integration with Microsoft's entire ecosystem
- Multi-agent orchestration that actually works
- Enterprise architecture that scales

Already using Microsoft tools? Copilot Studio's MCP support is your natural path to intelligent workflow automation with Tallyfy.

## Related articles
<CardGrid>
<LinkTitleCard header="<b>Integrations > MCP server</b>" href="/products/pro/integrations/mcp-server/" > Tallyfy's MCP Server enables natural language interaction with workflows through AI assistants by providing tools for searching tasks and processes managing users and templates analyzing workflow health and creating automation rules without requiring API knowledge. </LinkTitleCard>
<LinkTitleCard header="<b>Mcp Server > Using Tallyfy MCP server with Claude (text chat)</b>" href="/products/pro/integrations/mcp-server/claude-anthropic/" > Claude Desktop has evolved into the most mature MCP platform with Desktop Extensions for one-click installation Remote MCP servers with OAuth and Claude 4 models achieving 72.5% SWE-bench accuracy enabling powerful natural language workflow automation with Tallyfy while the entire AI ecosystem including OpenAI Microsoft and Google has standardized on MCP creating an explosive growth from 1000 to 7260+ available servers by August 2025. </LinkTitleCard>
<LinkTitleCard header="<b>Mcp Server > Using Tallyfy MCP server with ChatGPT</b>" href="/products/pro/integrations/mcp-server/openai-chatgpt/" > ChatGPT Enterprise Team and Education users can now connect to Tallyfy's MCP server through Deep Research enabling natural language workflow management with powerful search and analysis capabilities while being limited by text-based interactions that lack visual process tracking form field interactions and real-time collaboration features making it best suited as a complement to Tallyfy's native interface rather than a replacement. </LinkTitleCard>
<LinkTitleCard header="<b>Pro > Integrations</b>" href="/products/pro/integrations/" > Tallyfy connects with business systems through multiple integration methods including API implementations webhooks middleware platforms AI agents native connections email and analytics tools to create seamless automated workflows across your entire technology stack. </LinkTitleCard>
</CardGrid>