---
description: Third-party applications can integrate with Tallyfy using OAuth 2.0 client
  credentials flow to embed workflow functionality provision users programmatically
  and make API requests on behalf of users while maintaining secure authentication
  through application-level and user-specific access tokens.
id: c636eea1808d918ab86fd241978ea636
sidebar:
  order: 20
title: API usage as a third-party application instead of a user
---

import { Steps } from '@astrojs/starlight/components';

## Third-Party Application Integration with Tallyfy API

This guide explains how to integrate your application with Tallyfy using the client credentials flow. This allows your application to make Tallyfy API requests on behalf of your users.

### Use cases for on-behalf-of access

This integration pattern is useful for organizations that want to:

- Embed Tallyfy functionality within their own software
- Provide integrated workflow capabilities to their users
- Automate process management for clients or employees
- Maintain an integrated user experience in their application
- Handle user provisioning programmatically

### Implementation overview

#### Requirements

- Paid Tallyfy Professional or Enterprise subscription
- Client credentials (client ID and secret) from Tallyfy
- Basic understanding of OAuth 2.0 client credentials flow
- Development environment for testing API integration

:::caution[Enterprise Feature]
The client credentials grant type is only available to paid organizations and is not accessible during free trials. Contact Tallyfy Support to request access to this feature.
:::

## OAuth client credentials flow

This diagram shows the complete authentication flow for third-party applications to access Tallyfy on behalf of users.

```d2
API: "API"
App: "App"
Auth: "Auth"
User: "User"
App: Third-Party App
Auth: Tallyfy Auth\n(account.tallyfy.com)
API: Tallyfy API\n(go.tallyfy.com)
User: End User

# OAuth 2.0 Client Credentials Flow

# Step 1: Get App Token
App -> Auth: "1. POST /oauth/token\nclient_id, client_secret\ngrant_type: 'client_credentials'"
Auth -> App: "2. Application Access Token\n(expires_in: 3600)" {style.stroke-dash: 3}

# Step 2: Provision User
App -> API: "3. POST /api/applications/[orgID]/users\nBearer: [app_token]\nUser details (name, email, role)"
API -> App: "4. User created\n(user_id: 12345)" {style.stroke-dash: 3}

# Step 3: Get User Token
App -> API: "5. POST /api/applications/[orgID]/users/[email]/token\nBearer: [app_token]"
API -> App: "6. User-specific Access Token\n(expires_in: 3600)" {style.stroke-dash: 3}

# Step 4: Act on behalf of user
App -> API: "7. GET /api/organizations/[orgID]/me/tasks\nBearer: [user_token]\nX-Tallyfy-Client: APIClient"
API -> App: "8. User's tasks data" {style.stroke-dash: 3}

# User interacts with third-party app
User -> App: "9. Request workflow action"
App -> API: "10. API call with user token"
API -> App: "11. Response" {style.stroke-dash: 3}
App -> User: "12. Display result" {style.stroke-dash: 3}
```

**What to notice:**
- The application first authenticates itself with client credentials to get an app-level token
- User provisioning and user token generation both require the app-level token, creating a secure chain of trust
- Each token type (app vs user) has specific permissions - the app token manages users while user tokens perform actual workflow actions

#### Step 1: Request client credentials

<Steps>
1. Contact Tallyfy Support to request client credentials for your organization
2. Provide details about your integration use case and requirements
3. Tallyfy will provision a client ID and secret specific to your organization
4. Store these credentials securely in your application environment
</Steps>

#### Step 2: Obtain application access token

To authenticate your application with Tallyfy, you must first obtain an application-level access token:

```
POST https://account.tallyfy.com/oauth/token
```

**Request Body:**
```json
{
    "client_id": 12345,
    "client_secret": "hTWzy5rpYXcBn8K4J9PqEs2V...",
    "grant_type": "client_credentials",
    "scope": "*"
}
```

**Response:**
```json
{
    "token_type": "Bearer",
    "expires_in": 3600,
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

:::note[Token Expiration]
Application access tokens have a limited lifespan. Your application should implement token refresh logic or request new tokens as needed when you receive authentication errors.
:::

#### Step 3: Provision users programmatically

With your application access token, you can create and manage users in your Tallyfy organization:

```
POST https://go.tallyfy.com/api/applications/{orgID}/users
```

**Headers:**
```
Authorization: Bearer {your_app_access_token}
Content-Type: application/json
X-Tallyfy-Client: APIClient
```

**Request Body:**
```json
{
    "first_name": "John",
    "last_name": "Smith",
    "email": "john.smith@yourcompany.com",
    "role": "standard",
    "timezone": "America/Chicago"
}
```

**Available Roles:**
- `admin` - Full organization administration access
- `standard` - Regular user with process creation capabilities
- `light` - Limited user who can only complete assigned tasks

**Response:**
```json
{
    "id": 12345,
    "email": "john.smith@yourcompany.com",
    "first_name": "John",
    "last_name": "Smith",
    "role": "standard",
    "created_at": "2023-05-15T14:22:10.000Z"
}
```

#### Step 4: Generate user-specific access tokens

To perform Tallyfy actions on behalf of a specific user, you need to obtain a user-specific token:

```
POST https://go.tallyfy.com/api/applications/{orgID}/users/{email}/token
```

**Headers:**
```
Authorization: Bearer {your_app_access_token}
Content-Type: application/json
X-Tallyfy-Client: APIClient
```

**Response:**
```json
{
    "token_type": "Bearer",
    "expires_in": 3600,
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### Step 5: Make API requests on behalf of users

Use the user-specific token to make Tallyfy API requests as if they were made by the user:

```
GET https://go.tallyfy.com/api/organizations/{orgID}/me/tasks
```

**Headers:**
```
Authorization: Bearer {user_specific_access_token}
Content-Type: application/json
X-Tallyfy-Client: APIClient
```

:::caution[Required Header]
Always include the `X-Tallyfy-Client: APIClient` header in all direct API calls to Tallyfy endpoints. Requests without this header will be rejected.
:::

### Security considerations

When implementing on-behalf-of Tallyfy API access:

- Store client credentials in secure, encrypted storage
- Implement proper access controls to user tokens
- Rotate secrets periodically according to your security policies
- Validate that user emails belong to your organization before requesting tokens
- Use HTTPS for all API communication
- Implement token expiration handling and refresh logic

### Troubleshooting

| Error | Description | Solution |
|-------|-------------|----------|
| 401 Unauthorized | Invalid client credentials | Verify client ID and secret |
| 403 Forbidden | Insufficient permissions | Ensure the client has appropriate scopes |
| 404 Not Found | User not found | Verify the user email and organization ID |
| 429 Too Many Requests | Rate limit exceeded | Implement request throttling and retries |

For assistance with this integration, contact Tallyfy Support with specific details about your use case and any error messages encountered.

import { CardGrid, LinkTitleCard } from "~/components";

## Related articles
<CardGrid>
<LinkTitleCard header="<b>Authentication > Use the Client Credentials Flow</b>" href="/products/pro/integrations/open-api/code-samples/authentication/client-credentials-flow/" > The OAuth 2.0 Client Credentials flow enables machine-to-machine authentication for third-party applications to interact with the Tallyfy API through a secure process involving client credentials from support application-level tokens for system operations and optional user-specific tokens for acting as individual users within organizations. </LinkTitleCard>
<LinkTitleCard header="<b>Open Api > OAuth authorization flow for third-party applications</b>" href="/products/pro/integrations/open-api/oauth-authorization-flow/" > OAuth authorization flow enables third-party applications to authenticate with Tallyfy through a secure redirect-based process where users log in directly on Tallyfy's domain and applications receive access tokens to make API requests without handling user credentials. </LinkTitleCard>
<LinkTitleCard header="<b>Integrations > Open API</b>" href="/products/pro/integrations/open-api/" > The Tallyfy REST API enables developers to build custom integrations with full platform functionality through three authentication methods (user tokens application tokens and OAuth) while providing comprehensive access to process management task operations user administration and data export capabilities with standard JSON responses and reasonable rate limits. </LinkTitleCard>
<LinkTitleCard header="<b>Open Api > Integrate with Tallyfy using the API</b>" href="/products/pro/integrations/open-api/how-to-integrate-with-tallyfy-using-api/" > Tallyfy provides a REST API for integrating workflow functionality into external applications with authentication options including user-based tokens and OAuth client credentials requiring specific headers and proper token management for stable integrations across multiple organizations. </LinkTitleCard>
</CardGrid>