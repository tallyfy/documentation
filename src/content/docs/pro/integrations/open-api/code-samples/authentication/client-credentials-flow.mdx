---
about_tallyfy: true
description: The OAuth 2.0 client credentials flow lets server-side apps authenticate
  with Tallyfy's API using a client ID and secret to get application-level tokens
  (valid 7 days) and optional user-specific tokens (valid 3 months) for acting as
  individual users.
id: 5a7731c3f4ae6de6ca627890e5b0c9f0
lastUpdated: 2026-02-25
sidebar:
  order: 2
title: Use the client credentials flow
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

## Client credentials authentication for server apps

The OAuth 2.0 client credentials flow handles machine-to-machine authentication. It's designed for backend services and third-party apps that interact with the Tallyfy API without a user logging in.

You'll need a `Client ID` and `Client Secret` from Tallyfy Support before you start.

:::caution[Enterprise feature - setup required]
Client credentials are only available to paid Tallyfy organizations and require manual setup by Tallyfy Support. They aren't accessible during free trials. Contact support to request access and describe your integration use case.
:::

## How the flow works

```d2
direction: down

App: "Your Application" {
  shape: rectangle
  style.fill: "#f5f5f5"
}

Support: "Tallyfy Support" {
  shape: person
  style.fill: "#e6ffe6"
}

Auth: "Tallyfy Auth\n(go.tallyfy.com)" {
  shape: rectangle
  style.fill: "#e6f3ff"
}

API: "Tallyfy API\n(go.tallyfy.com/api)" {
  shape: cylinder
  style.fill: "#ffe6e6"
}

# One-time Setup
App -> Support: "1. Request client\ncredentials" {
  style.stroke: "#333"
}

Support -> App: "2. Provide Client ID\n& Client Secret" {
  style.stroke: "#333"
  style.stroke-dash: 3
}

# Application-Level Authentication
App -> Auth: "3. POST /oauth/token\n(client_credentials)" {
  style.stroke: "#333"
  style.stroke-width: 2
}

Auth -> App: "4. Access token\n(expires in 7 days)" {
  style.stroke: "#333"
  style.stroke-dash: 3
}

App -> API: "5. API Request with\nBearer token + headers" {
  style.stroke: "#333"
}

API -> App: "6. Response data" {
  style.stroke: "#333"
  style.stroke-dash: 3
}

# Optional: User-Specific Operations
App -> API: "7. POST /applications/users\n(provision user)" {
  style.stroke: "#666"
}

API -> App: "8. User-specific token" {
  style.stroke: "#666"
  style.stroke-dash: 3
}

App -> API: "9. GET /organizations/tasks\n(as user)" {
  style.stroke: "#666"
}

API -> App: "10. User's tasks data" {
  style.stroke: "#666"
  style.stroke-dash: 3
}

# Token Refresh Required Before Expiry
App -> Auth: "11. POST /oauth/token\n(re-request before expiry)" {
  style.stroke: "#333"
  style.stroke-dash: 5
}

Auth -> App: "12. New access token" {
  style.stroke: "#333"
  style.stroke-dash: 5
}
```

### What to notice

- **Step 1 is manual** - contacting Tallyfy Support for credentials is a one-time setup you can't automate
- **Two token types** - application tokens (system operations) and user-specific tokens (acting as a particular user)
- **Different lifetimes** - application tokens expire in 7 days (604,800 seconds), user-specific tokens expire in 3 months (7,776,000 seconds)

### When to use this

This pattern works well when you want to:

- Embed Tallyfy functionality inside your own software
- Automate process management or user provisioning
- Build system-level integrations (reporting, data sync)
- Provide workflow features to your users without separate Tallyfy logins

### Steps

#### 1. Request client credentials

Contact Tallyfy Support with your integration use case. They'll provide a `Client ID` and `Client Secret` for your organization. Store these securely.

#### 2. Get an application access token

Your app first needs its own access token for operations like user provisioning or generating user-specific tokens.

- **Endpoint:** `POST https://go.tallyfy.com/oauth/token`
- **Content-Type:** `application/x-www-form-urlencoded`
- **Parameters:**
    - `grant_type`: `client_credentials`
    - `client_id`: Your Client ID
    - `client_secret`: Your Client Secret
    - `scope`: `*` (optional)

<Tabs>
<TabItem label="Javascript">
```javascript
const clientId = 'YOUR_CLIENT_ID';
const clientSecret = 'YOUR_CLIENT_SECRET';
const tokenUrl = 'https://go.tallyfy.com/oauth/token';

const params = new URLSearchParams();
params.append('grant_type', 'client_credentials');
params.append('client_id', clientId);
params.append('client_secret', clientSecret);
params.append('scope', '*');

const response = await fetch(tokenUrl, {
    method: 'POST',
    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    body: params
});

if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
}

const data = await response.json();
console.log('Access token:', data.access_token);
// Use data.access_token for subsequent API calls
```
</TabItem>
<TabItem label="Python">
```python
import requests

client_id = 'YOUR_CLIENT_ID'
client_secret = 'YOUR_CLIENT_SECRET'
token_url = 'https://go.tallyfy.com/oauth/token'

payload = {
    'grant_type': 'client_credentials',
    'client_id': client_id,
    'client_secret': client_secret,
    'scope': '*'
}

response = requests.post(token_url, data=payload)

if response.status_code == 200:
    token_data = response.json()
    print("Access token:", token_data['access_token'])
else:
    print(f"Error: {response.status_code}")
    print(response.text)
```
</TabItem>
<TabItem label="Java">
```java
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.net.URLEncoder;
import java.nio.charset.StandardCharsets;
import java.util.Map;
import java.util.stream.Collectors;

public class TallyfyClientCredentials {
    public static void main(String[] args) throws Exception {
        String tokenUrl = "https://go.tallyfy.com/oauth/token";

        Map<String, String> formData = Map.of(
            "grant_type", "client_credentials",
            "client_id", "YOUR_CLIENT_ID",
            "client_secret", "YOUR_CLIENT_SECRET",
            "scope", "*"
        );

        String form = formData.entrySet().stream()
            .map(e -> e.getKey() + "=" + URLEncoder.encode(
                e.getValue(), StandardCharsets.UTF_8))
            .collect(Collectors.joining("&"));

        HttpClient client = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest.newBuilder()
            .uri(URI.create(tokenUrl))
            .header("Content-Type", "application/x-www-form-urlencoded")
            .POST(HttpRequest.BodyPublishers.ofString(form))
            .build();

        HttpResponse<String> response = client.send(
            request, HttpResponse.BodyHandlers.ofString());

        System.out.println(response.statusCode() == 200
            ? "Success: " + response.body()
            : "Error " + response.statusCode() + ": " + response.body());
    }
}
```
</TabItem>
<TabItem label="Go">
```go
package main

import (
	"fmt"
	"io"
	"net/http"
	"net/url"
	"strings"
)

func main() {
	tokenUrl := "https://go.tallyfy.com/oauth/token"

	data := url.Values{}
	data.Set("grant_type", "client_credentials")
	data.Set("client_id", "YOUR_CLIENT_ID")
	data.Set("client_secret", "YOUR_CLIENT_SECRET")
	data.Set("scope", "*")

	req, err := http.NewRequest("POST", tokenUrl,
		strings.NewReader(data.Encode()))
	if err != nil {
		fmt.Println("Error:", err)
		return
	}
	req.Header.Set("Content-Type", "application/x-www-form-urlencoded")

	resp, err := http.DefaultClient.Do(req)
	if err != nil {
		fmt.Println("Error:", err)
		return
	}
	defer resp.Body.Close()

	body, _ := io.ReadAll(resp.Body)
	fmt.Printf("Status %d: %s\n", resp.StatusCode, string(body))
}
```
</TabItem>
<TabItem label="C++">
```cpp
#include <iostream>
#include <string>
#include <cpprest/http_client.h>

using namespace web;
using namespace web::http;
using namespace web::http::client;

int main() {
    http_client client(U("https://go.tallyfy.com/oauth/token"));

    uri_builder builder;
    builder.append_query(U("grant_type"), U("client_credentials"));
    builder.append_query(U("client_id"), U("YOUR_CLIENT_ID"));
    builder.append_query(U("client_secret"), U("YOUR_CLIENT_SECRET"));
    builder.append_query(U("scope"), U("*"));

    http_request request(methods::POST);
    request.headers().set_content_type(
        U("application/x-www-form-urlencoded"));
    request.set_body(builder.query());

    client.request(request)
        .then([](http_response response) {
            return response.extract_json();
        })
        .then([](json::value body) {
            std::wcout << body.serialize() << std::endl;
        })
        .wait();

    return 0;
}
// Requires C++ REST SDK (Casablanca)
```
</TabItem>
<TabItem label="C#">
```csharp
using System;
using System.Collections.Generic;
using System.Net.Http;
using System.Threading.Tasks;

public class TallyfyAuth
{
    private static readonly HttpClient client = new HttpClient();

    public static async Task Main()
    {
        var tokenUrl = "https://go.tallyfy.com/oauth/token";

        var formContent = new FormUrlEncodedContent(new[]
        {
            new KeyValuePair<string, string>(
                "grant_type", "client_credentials"),
            new KeyValuePair<string, string>(
                "client_id", "YOUR_CLIENT_ID"),
            new KeyValuePair<string, string>(
                "client_secret", "YOUR_CLIENT_SECRET"),
            new KeyValuePair<string, string>("scope", "*")
        });

        var response = await client.PostAsync(tokenUrl, formContent);
        var body = await response.Content.ReadAsStringAsync();

        Console.WriteLine(response.IsSuccessStatusCode
            ? $"Success: {body}"
            : $"Error {response.StatusCode}: {body}");
    }
}
```
</TabItem>
</Tabs>

**Response:**

```json
{
    "token_type": "Bearer",
    "expires_in": 604800,
    "access_token": "eyJ0eXAiOiJKV1Q..."
}
```

:::note[Token expiration]
Application tokens are valid for 7 days (604,800 seconds). Request a new one before it expires by repeating the same POST request - there's no separate refresh token flow for client credentials.
:::

### 3. Provision users (optional)

With your application token, you can create users in your organization:

- **Endpoint:** `POST https://go.tallyfy.com/api/applications/{orgID}/users`
- **Headers:**
    - `Authorization: Bearer {your_app_access_token}`
    - `Content-Type: application/json`
    - `X-Tallyfy-Client: APIClient`
- **Body fields:**
    - `first_name` (required): Max 32 characters
    - `last_name` (required): Max 32 characters
    - `email` (required): Must be unique, valid domain
    - `role` (optional): `admin`, `standard`, or `light`
    - `timezone` (optional): User's timezone string

### 4. Get user-specific tokens (optional)

To act as a specific user, generate a user-scoped token with your application token.

- **Endpoint:** `POST https://go.tallyfy.com/api/applications/{orgID}/users/{email}/token`
- **Headers:**
    - `Authorization: Bearer {your_app_access_token}`
    - `X-Tallyfy-Client: APIClient`
- **Note:** No request body needed - the user's email goes in the URL path.

**Response:**

```json
{
    "token_type": "Bearer",
    "expires_in": 7776000,
    "access_token": "eyJ0eXAiOiJKV1Q..."
}
```

:::note[User token lifetime]
User-specific tokens are valid for 3 months (7,776,000 seconds). The user must already exist in your organization.
:::

### 5. Make API requests

Use your token (application-level or user-specific) in API calls with these required headers:

- `Authorization: Bearer {token}`
- `Accept: application/json`
- `X-Tallyfy-Client: APIClient`

All API endpoints follow the pattern `https://go.tallyfy.com/api/organizations/{orgID}/...`

For code examples of specific API operations, see the [personal access token](/products/pro/integrations/open-api/code-samples/authentication/personal-access-token/) guide - the request format is identical, just swap in your token.

### Security best practices

- Store client credentials in encrypted secrets management (never in source code)
- Protect both application-level and user-specific tokens
- Rotate secrets periodically
- Use HTTPS for all requests
- Re-request application tokens before the 7-day expiry

---

import { CardGrid, LinkTitleCard } from "~/components";

## Related articles
<CardGrid>
<LinkTitleCard header="<b>Open Api > API usage as a third-party application instead of a user</b>" href="/products/pro/integrations/open-api/access-api-as-a-third-party-application-instead-of-a-user/" > Third-party applications can integrate with Tallyfy's API using the OAuth 2.0 client credentials flow which involves obtaining client credentials from Tallyfy Support then authenticating to get an application-level token that enables programmatic user provisioning and the generation of user-specific tokens for performing API actions on behalf of individual users within the organization. </LinkTitleCard>
<LinkTitleCard header="<b>Open Api > API integration guide</b>" href="/products/pro/integrations/open-api/how-to-integrate-with-tallyfy-using-api/" > The Tallyfy REST API enables workflow automation through two authentication methods (user-based tokens obtained from Settings or application-based OAuth credentials) requiring specific headers and proper token management while supporting multi-organization contexts and webhook integrations with standardized date formats. </LinkTitleCard>
<LinkTitleCard header="<b>Open Api > OAuth authorization flow for third-party applications</b>" href="/products/pro/integrations/open-api/oauth-authorization-flow/" > This guide demonstrates implementing OAuth 2.0 authorization flow for third-party applications to authenticate with Tallyfy without exposing user credentials through a secure redirect-based process that returns access tokens for API authentication. </LinkTitleCard>
<LinkTitleCard header="<b>Integrations > Open API</b>" href="/products/pro/integrations/open-api/" > The Tallyfy REST API enables developers to build custom integrations with full platform functionality through three authentication methods (user tokens application tokens and OAuth) while providing complete access to process management task operations user administration and data export capabilities with standard JSON responses and reasonable rate limits. </LinkTitleCard>
</CardGrid>